<!DOCTYPE html><html lang=""><head>    <!-- 页面meta -->    <meta charset="utf-8">    <title>学生信息</title>    <!-- 引入样式 -->    <link rel="stylesheet" href="../plugins/elementui/index.css">    <link rel="stylesheet" href="../plugins/font-awesome/css/font-awesome.min.css">    <link rel="stylesheet" href="../css/style.css"></head><body class="hold-transition"><div id="app">    <div >        <h1 style="text-align: center">学生信息后台管理</h1>    </div>    <div class="app-container">        <el-row>            <el-button type="primary" @click="showform=true">增加</el-button>            <el-button type="primary" @click="selectAll()">查询</el-button>        </el-row><!--    表格-->        <el-table size="small" current-row-key="id" :data="datalist" stripe highlight-current-row>            <el-table-column type="index" align="center" label="序号"></el-table-column>            <el-table-column prop="name" label="学生姓名" align="center"></el-table-column>            <el-table-column prop="age" label="年龄" align="center"></el-table-column>            <el-table-column prop="sex" label="性别" align="center"></el-table-column>            <el-table-column prop="grade" label=成绩 align="center"></el-table-column>            <el-table-column label="操作" align="center">                <template slot-scope="scope">                    <el-button type="primary" size="mini" @click="showedit(scope.row)" >编辑</el-button>                    <el-button type="danger" size="mini" @click="deleteByid(scope.row)">删除</el-button>                </template>            </el-table-column>        </el-table>        <el-dialog title="新增学生信息" :visible.sync="showform">        <el-form ref="form" :model="formData" label-width="80px">            <el-form-item label="学生姓名">                <el-input v-model="formData.name"></el-input>            </el-form-item>            <el-form-item label="年龄">                <el-input v-model="formData.age"></el-input>            </el-form-item>            <el-form-item label="性别">                <el-input v-model="formData.sex"></el-input>            </el-form-item>            <el-form-item label="成绩">                <el-input v-model="formData.grade"></el-input>            </el-form-item>            <el-form-item>                <el-button type="primary" @click="submit()">提交</el-button>                <el-button @click="showform=false">取消</el-button>            </el-form-item>        </el-form>        </el-dialog><!--编辑学生信息-->        <el-dialog title="编辑学生信息" :visible.sync="showupdateform">            <el-form ref="form" :model="formData" label-width="80px">                <el-form-item label="学生姓名">                    <el-input v-model="formData.name"></el-input>                </el-form-item>                <el-form-item label="年龄">                    <el-input v-model="formData.age"></el-input>                </el-form-item>                <el-form-item label="性别">                    <el-input v-model="formData.sex"></el-input>                </el-form-item>                <el-form-item label="成绩">                    <el-input v-model="formData.grade"></el-input>                </el-form-item>                <el-form-item>                    <el-button type="primary" @click="update()">提交</el-button>                    <el-button @click="showupdateform=false">取消</el-button>                </el-form-item>            </el-form>        </el-dialog>    </div></div></body><!-- 引入组件库 --><script src="../js/vue.js"></script><script src="../plugins/elementui/index.js"></script><script type="text/javascript" src="../js/jquery.min.js"></script><script src="../js/axios-0.18.0.js"></script><script>    const vue = new Vue({        el: '#app',        data:{            datalist:[],            formData:{},  //表单数据            showform:false, //表单不可见            showupdateform:false //修改表单不可见        },        //挂载函数，VUE对象初始化完成后自动执行        mounted() {            this.selectAll();        },        methods: {            selectAll(){                axios.get("http://localhost:8080/StudentManagement_war/students").then((res)=>{                    this.datalist = res.data.data;                });            },            submit(){                axios.post("http://localhost:8080/StudentManagement_war/students",this.formData).then((res)=>{                    if(res.data.code === 20011){                        this.showform=false;                        this.$message.success("添加学生信息成功！");                    }else if(res.data.code === 20010){                        this.$message.error("添加失败");                    }else{                        this.$message.error("添加失败");                    }                }).finally(()=>{                    this.selectAll();                })            },            showedit(row){                axios.get("http://localhost:8080/StudentManagement_war/students/"+row.id).then((res)=>{                    if(res.data.code === 20041){                        this.showupdateform = true;                        this.formData = res.data.data;                    }                })            },            update(){                axios.put("http://localhost:8080/StudentManagement_war/students/",this.formData).then((res)=>{                    if(res.data.code === 20031){                        this.showupdateform=false;                        this.$message.success("学生信息修改成功！");                    }else if(res.data.code === 20030){                        this.$message.error("修改失败！");                    }else{                        this.$message.error("修改失败！");                    }                }).finally(()=>{                    this.selectAll();                })            },            deleteByid(row){                this.$confirm("此操作永久删除当前数据，是否继续？","提示",{                    type:'warning'                }).then(()=> {                    axios.delete("http://localhost:8080/StudentManagement_war/students/" + row.id).then((res) => {                        if(res.data.code === 20021){                            this.$message.success("删除成功");                        }else{                            this.$message.error("删除失败");                        }                    }).finally(()=>{                        this.selectAll();                    });                })            }        }    });</script></html>